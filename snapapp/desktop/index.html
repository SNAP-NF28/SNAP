<!doctype html>
<html>
  <head>	
	<meta charset="utf-8">
	  <title>SNAP</title>
	  <meta name="viewport" content="width=device-width, initial-scale=1.0">
	  <meta name="description" content="AngularJS Project for School :)">
	  <meta name="author" content="SNAP Project">

      <!-- import jQuery
      <script src="/snapapp/common/lib/jquery/jquery-1.7.2.min.js"></script>

      <!-- import Js libs and files-->
      <script src="/snapapp/common/js/load.js"></script>
      <script data-main="js/load.js" src="/snapapp/common/lib/requirejs/require-jquery.js"></script>
      <!-- import Css libs and files-->
      <script src="/snapapp/common/js/util/importCSS.js"></script>
	  <!--<link rel="stylesheet" href="../lib/bootstrap/css/bootstrap.css">-->
	  <link rel="stylesheet" href="./css/desktop.css">

	  <script type="text/javascript">
		function resize(){ 
			var htmlheight = document.body.parentNode.scrollHeight; 
			var windowheight = window.innerHeight; 
			for(var i = 0; i < var frame = document.getElementsByName("pane").length; i++) {
				document.getElementsByTagName("p")[i].style.max-height = windowheight-200 + "px";;
			}
		} 
	  </script>
  </head>
  <body onload="resize()" onresize="resize()">
    <snap-common-scripts></snap-common-scripts>
	<snap-navbar></snap-navbar>
	<div   ng-controller="desktopAppCtrl">
	<div class="container-fluid">
		<div class="row-fluid">
			<div class="span3">
				<div class="well sidebar-nav sidebar-nav-fixed">
					<form ng-submit="envoiMEssage()">
						<textarea class="newMsg" placeholder="Nouveau message" 
						onfocus="charCounter(this,140,'msgCounter','envoiMsg')" 
						onkeydown="charCounter(this,140,'msgCounter','envoiMsg')" 
						onkeyup="charCounter(this,140,'msgCounter','envoiMsg')" 
						onBlur="charCounter(this,140,'msgCounter','envoiMsg')"></textarea>
						<input class="btn btn-primary" type="submit" id="envoiMsg" value="Envoyer &raquo;">
						<h1><small><div id="msgCounter">0</div></small></h1>
					</form>
					<input type="text" ng-model="search" class="search-query" placeholder="Rechercher">
					</ul>
				</div><!--/.well -->
			</div><!--/span-->
			<div class="span9">
				<div class="row-fluid">
					<tabs class="fix-tabs">
						<pane class="pane" title="All">
						</pane>
						<pane class="pane" ng-repeat="socialNetwork in socialNetworks" title="{{socialNetwork.displayName}}">
							<div class="scrollable-pane" ng-controller="desktopAppCtrlMsg">
								<div class="msgContainer well" ng-repeat="message in messages | filter:search">
									<!-- Image du profil -->
									<img class="msgImgProfile" src="{{getImageProfile(message)}}" />
									<div class="cadreMsg">
									<!-- Nom du profil -->
									<b class="fullname">{{getNameProfile(message)}}</b>
									<div class="msgContent">
										{{message.msgContent}}
									</div>
									<!-- Lien message original -->
									<a href="" >Détails</a>	
									<button data-trigger="BS.showPopup" data-bs-showpopup-target="!body #demoPopup" class="btn danger">Launch Modal</button>
										<div data-behavior="BS.Popup" class="modal fade" id="demoPopup">
										  <div class="modal-header">
											<a href="#" class="close">×</a>
											<h3>Modal Heading</h3>
										  </div>
										  <div class="modal-body">
											<p>One fine body...</p>
										  </div>
										  <div class="modal-footer">
											<a href="#" class="btn primary dismiss stopEvent">Primary</a>
											<a href="#" class="btn secondary dismiss stopEvent">Secondary</a>
										  </div>
										</div>
									<!-- Afficher bouton retweet -->
									<!-- Afficher bouton j'aime -->
									<!-- Afficher bouton partager -->
									</div>
									<br class="clear" />
								</div>
							</div>
						</pane>
				</div>
			</div>
		</div>
	</div>
  </body>	
</html>
